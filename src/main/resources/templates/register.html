<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--导入vue-->
    <script src="/res/js/vue.js" type="text/javascript"></script>
<!-- 导入element-ui组件-->
    <script src="/res/js/index.js" type="text/javascript"></script>
    <link href="/res/css/index.css" rel="stylesheet">
</head>
<style>
    body{
        /*background-color: #e1f3d8;*/
        background-image: url("res/images/register.jpg");
        background-attachment: fixed;
        background-repeat: no-repeat;
        background-position: center center;
        background-size: cover;
        margin: 0;
    }
    #register{
        width: 100%;
        height: 100vh;
    }
    .el-card{
        width: 400px;
        /*height: 500px;*/
        margin: 0 auto;
        margin-top: 25vh;
        border: 1px solid #ccc;
        background-color: rgba(255,255,255,0.4);
        border-radius: 10px;
    }
    .code_input{
        float: left;
        width: 60%;
    }
    .code_btn{
        margin-left: 5%;
        width: 35%;
    }
    .register_btn{
        width: 50%;
    }
    p{
        display: flex;
        justify-content: center;
        align-items: center;
        /*text-align: center;*/
    }
    .el-container{
        text-align: center;
        height: 100vh;
    }
</style>
<body>
    <div id="register">
        <el-container>
            <el-main>
                <el-card class="box-card">
                    <div slot="header" class="clearfix">
                        <div style="text-align: center;font-size: 25px">欢迎注册ChatOnline</div>
                    </div>
                    <el-form id="form" status-icon :rules="rules" ref="user" :model="user">

                        <el-form-item prop="userName">
                            <el-input v-model="user.userName" placeholder="请输入用户名"></el-input>
                        </el-form-item>

                        <el-form-item prop="userEmail">
                            <el-input v-model="user.userEmail" type="text" placeholder="请输入邮箱"></el-input>
                        </el-form-item>

                        <el-form-item prop="userPassword">
                            <el-input v-model="user.userPassword" show-password type="password" placeholder="请输入密码" autocomplete="off"></el-input>
                        </el-form-item>

                        <el-form-item prop="rePassword">
                            <el-input v-model="user.rePassword" show-password type="password" placeholder="请再次输入密码"></el-input>
                        </el-form-item>

                        <el-form-item>
                            <el-input v-model="user.checkCode" class="code_input" placeholder="请输入验证码"></el-input>
                            <el-button class="code_btn" type="primary" disabled>发送验证码</el-button>
                        </el-form-item>
                    </el-form>
                    <p><el-button class="register_btn" type="primary" disabled>提交注册</el-button></p>
                </el-card>
            </el-main>
        </el-container>
    </div>
<script>
    new Vue({
        el:"#register",
        data(){
            var validatePass = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('请输入密码'));
                } else {
                    if (this.user.rePassword !== '') {
                        this.$refs.user.validateField('rePassword');
                    }
                    callback();
                }
            };
            var validatePass2 = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('请再次输入密码'));
                } else if (value !== this.user.userPassword) {
                    callback(new Error('两次输入密码不一致!'));
                } else {
                    callback();
                }
            };
            return{
                user:{
                    userName:"",
                    userPassword:"",
                    userEmail:"",
                    checkCode:"",   //验证码
                    rePassword:""   //再次输入密码
                },
                rules:{
                    userPassword: [
                        { validator: validatePass, trigger: 'blur' }
                    ],
                    rePassword: [
                        { validator: validatePass2, trigger: 'blur' }
                    ],
                }
            }
        },
        method:{

        }
    })
</script>
</body>
</html>